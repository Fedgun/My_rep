#  В прошлом юните для соединения таблиц мы использовали условие в разделе where, чтобы показать принцип работы оператора JOIN.

***JOIN — это оператор SQL, который позволяет соединять таблицы по условию.***

*В качестве примера используем запрос из предыдущего юнита.*

**SELECT 
    long_name,
    home_team_goals,
    away_team_goals
FROM
    sql.teams,
    sql.matches
WHERE home_team_api_id = api_id**

*и запишем его с использованием JOIN.*

**ЗапросДетализация
SELECT 
    long_name,
    home_team_goals,
    away_team_goals
FROM    
    sql.teams
JOIN sql.matches on home_team_api_id = api_id**

### Синтаксис

*Оператор JOIN упрощает процесс соединения таблиц.*
*Его синтаксис можно представить следующим образом:*
**SELECT
        столбец1,
	столбец2,
	...
FROM
	таблица1
JOIN таблица2 ON условие**

*Порядок присоединения таблиц в данном случае не важен — результат будет одинаковым.*
*С помощью JOIN можно соединить и более двух таблиц.*

**SELECT
        столбец1,
	столбец2,
	...
FROM
	таблица1
JOIN таблица2 ON условие
JOIN таблица3 ON условие**

*В таблицах, которые мы соединяем, могут быть одинаковые названия столбцов.*

*К примеру, столбец id есть и в таблице matches, и в таблице teams. Такой запрос не будет обработан.*

**SELECT
    id
FROM 
sql.teams
    JOIN sql.matches ON home_team_api_id = api_id**

*В результате должно появиться сообщение об ошибке вроде такого: "... column id is ambiguous ...".*

*Что же делать в таком случае?*

*Можно указать, откуда мы хотим запросить данные, записав название таблицы перед столбцом через точку.*

**SELECT
    teams.id
FROM 
    sql.teams
JOIN sql.matches ON home_team_api_id = api_id**

*Можно также выбрать и столбец из таблицы matches.*

**SELECT
    matches.id
FROM 
    sql.teams
JOIN sql.matches on home_team_api_id = api_id**

*Зачастую названия таблиц слишком длинные, так что использовать их неудобно.*

***Упростить обращение к различным таблицам можно, присвоив им сокращённые названия — алиасы (от англ. alias).***

*Синтаксис для указания алиаса такой же, как и для названия столбца.*

**SELECT
        столбец1,
	столбец2,
	...
FROM
	таблица1 AS короткое_название_1
JOIN таблица2 AS короткое_название_2 ON условие**

*Название записывается без пробелов и операторов.*

*Если необходимо записать название, в котором используются пробелы ("table 1"), то алиас можно обернуть в кавычки.*

***Важно! Обращаться по такому алиасу придётся также с помощью кавычек.***

**SELECT
	"table 1".столбец1,
	"table 2".столбец2,
	...
FROM
	таблица1 AS "table 1"
	JOIN таблица2 AS "table 2" ON условие**

*Использование таких алиасов считается плохой практикой как минимум по причине того, что обращаться с такими алиасами неудобно.*

***Вместо алиасов с кавычками рекомендуется давать простое короткое название на латинице, без специальных символов и пробелов. Если таблиц немного и все названия начинаются с разных букв, можно присваивать алиасы по первой букве.***

***Ключевое слово as, как и в названии столбца, можно опустить в большинстве СУБД.***

**SELECT
        столбец1 новое_название_столбца,
	столбец2 новое_название_столбца,
	...
FROM
	таблица1 короткое_название_1
JOIN таблица2 короткое_название_2 ON услови**

*Давайте попробуем проделать то же самое для наших таблиц.*

*Кажется, теперь мы можем соединить таблицы между собой и создать своё табло со счётом матчей, как на спортивных сайтах!*

*Давайте с помощью запроса SQL получим таблицу, содержащую:*
- название домашней команды;
- количество забитых домашней командой голов;
- количество забитых гостевой командой голов;
- название гостевой команды.

**SELECT
    h.long_name "домашняя команда",
    m.home_team_goals "голы домашней команды",
    m.away_team_goals "голы гостевой команды",
    a.long_name "гостевая команда" 
FROM
    sql.matches m
    JOIN sql.teams h ON m.home_team_api_id = h.api_id
    JOIN sql.teams a ON m.away_team_api_id = a.api_id**

### Задание 3.3

*Напишите запрос, который выведет столбцы:*

- id матча,
- короткое название домашней команды (home_short),
- короткое название гостевой команды (away_short).

*Отсортируйте запрос по возрастанию id матча.*

**SELECT
    m.id "match_id",
    h.short_name "home_short",
    a.short_name "away_short" 
FROM
    sql.matches m
    JOIN sql.teams h ON m.home_team_api_id = h.api_id
    JOIN sql.teams a ON m.away_team_api_id = a.api_id
Order by match_id**